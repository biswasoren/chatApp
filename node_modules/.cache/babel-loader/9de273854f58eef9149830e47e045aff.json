{"ast":null,"code":"var _jsxFileName = \"/home/biswa/chatApp/src/components/login.js\";\nimport React from 'react';\nimport './login.css';\nimport { Button } from 'semantic-ui-react';\nimport { Input } from 'semantic-ui-react';\nimport { socket } from './socket';\nimport PropTypes from 'prop-types';\n\nclass Login extends React.Component {\n  // eslint-disable-next-line no-useless-constructor\n  constructor(props) {\n    super(props);\n\n    this.login = () => {\n      const userName = document.getElementById('userName');\n      const password = document.getElementById('password');\n      fetch('/api/register/login', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          userName: userName.value\n        })\n      }).then(results => results.json()).then(info => {\n        const usrData = info;\n\n        if (usrData.length !== 0) {\n          if (usrData[0].password === password.value) {\n            socket.emit('add_user', userName.value);\n            userName.value = null;\n            password.value = null;\n            this.props.updateState({\n              login: 'none',\n              chat: 'block',\n              register: 'none'\n            });\n          } else {\n            alert('Paswword is incorrect');\n          }\n        } else {\n          alert('User not found');\n        }\n      });\n    };\n\n    this.state = {\n      msgData: []\n    };\n  }\n\n  // eslint-disable-next-line react/no-typos\n  componentDidMount() {}\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Input, {\n      id: \"userName\",\n      placeholder: \"Enter Username \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        margin: '10px 0'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Input, {\n      id: \"password\",\n      placeholder: \"Password\",\n      type: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })), React.createElement(Button, {\n      primary: true,\n      style: {\n        margin: '10px 0'\n      },\n      onClick: () => {\n        this.login();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"New User ?\"), React.createElement(Button, {\n      secondary: true,\n      style: {\n        margin: '10px 0'\n      },\n      onClick: () => {\n        this.props.updateState({\n          login: 'none',\n          chat: 'none',\n          register: 'block'\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Sign Up\")));\n  }\n\n}\n\nLogin.propTypes = {\n  updateState: PropTypes.func.isRequired\n};\nexport default Login;","map":{"version":3,"sources":["/home/biswa/chatApp/src/components/login.js"],"names":["React","Button","Input","socket","PropTypes","Login","Component","constructor","props","login","userName","document","getElementById","password","fetch","method","headers","body","JSON","stringify","value","then","results","json","info","usrData","length","emit","updateState","chat","register","alert","state","msgData","componentDidMount","render","margin","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './login.css';\nimport { Button } from 'semantic-ui-react';\nimport { Input } from 'semantic-ui-react';\nimport { socket } from './socket';\nimport PropTypes from 'prop-types';\n\n\nclass Login extends React.Component {\n    // eslint-disable-next-line no-useless-constructor\n    constructor(props) {\n      super(props);\n      this.state = {\n        msgData: [],\n      }\n    }\n\n    static propTypes = {\n      updateState: PropTypes.func.isRequired,\n    };\n  \n    // eslint-disable-next-line react/no-typos\n    componentDidMount() {}\n\n    login = () => {\n      const userName = document.getElementById('userName');\n      const password = document.getElementById('password');\n        fetch('/api/register/login', {\n            method: 'post',\n            headers: {'Content-Type':'application/json'},\n            body: JSON.stringify({ \n              userName: userName.value })\n        }).then(results => results.json())\n        .then(info => {\n          const usrData = info;\n            if (usrData.length !== 0) {\n            if (usrData[0].password === password.value) {\n              socket.emit('add_user', userName.value);\n              userName.value = null;\n              password.value = null;\n              this.props.updateState({\n                login : 'none',\n                chat : 'block',\n                register: 'none'\n              });\n              \n            }\n            else {\n              alert('Paswword is incorrect');\n            }\n          }\n          else {\n            alert('User not found');\n          }\n\n            \n        });\n       \n    }\n\n    render() {\n      return (\n        <div className=\"card\">\n        <div className=\"form\">\n          <div>\n            <Input id='userName' placeholder='Enter Username ' />\n          </div>\n          <div style={{\n            margin: '10px 0'\n          }}>\n            <Input id='password' placeholder='Password' type='password' />\n          </div>\n          <Button primary style={{\n           margin: '10px 0'\n           }}\n           onClick={() => {\n              this.login()\n           }}>\n            Login\n          </Button>\n          <div >\n            New User ?\n          </div>\n          <Button secondary style={{\n            margin: '10px 0'\n            }}\n            onClick={() => {\n              this.props.updateState({\n                login : 'none',\n                chat : 'none',\n                register: 'block'\n\n              });\n            }}>\n            Sign Up\n          </Button>\n          </div>\n        </div>\n      );\n    }\n  }\n\n  export default (Login);"]},"metadata":{},"sourceType":"module"}